{"version":3,"sources":["pages/autocomplete.tsx","../../src/index.ts","../../../src/v1/index.ts","../../../src/v1/core.ts","pages/index.tsx","App.tsx","index.tsx"],"names":["SENTINEL","jisx0402","old_code","postal_code","prefecture","prefecture_kana","city","city_kana","town","town_kana","town_raw","town_kana_raw","koaza","kyoto_street","building","floor","town_partial","town_addressed_koaza","town_multi","town_chome","corporation","apiBaseUrl","process","REACT_APP_KENALL_API_BASE_URL","api","KENALL","apibase","timeout","searchAddresses","cache","generateKeyFromOptions","options","query","limit","a","k","undefined","candidates","Autocomplete","React","useState","address","setAddress","setCandidates","onCandidatesRequested","value","result","suggestions","Error","data","onSuggestionsFetchRequested","onSuggestionsClearRequested","onSuggestionSelected","e","suggestion","suggestionValue","suggestionIndex","sectionIndex","method","getSuggestionValue","candidate","block_lot","renderSuggestion","className","substring","renderSuggestionsContainer","containerProps","children","ref","restOfContainerProps","message","String","count","inputProps","placeholder","onChange","currentTarget","Index","App","menuShown","setMenuShown","onClick","stopPropagation","to","fill","viewBox","xmlns","fill-rule","d","clip-rule","path","baseUrl","REACT_APP_BASE_URL","ReactDOM","render","StrictMode","basename","document","getElementById"],"mappings":"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","file":"static/js/main.e7071b7a.chunk.js","sourcesContent":["import React from 'react';\nimport Autosuggest, { OnSuggestionSelected, RenderSuggestionsContainer } from 'react-autosuggest';\nimport { KENALL, Address, AddressSearcherOptions } from '@ken-all/kenall';\n\ntype Candidates = {\n  count: number;\n  data: Address[];\n}\n\nconst SENTINEL: Address = {\n  jisx0402: \"\",\n  old_code: \"\",\n  postal_code: \"\",\n  prefecture: \"\",\n  prefecture_kana: \"\",\n  city: \"\",\n  city_kana: \"\",\n  town: \"\",\n  town_kana: \"\",\n  town_raw: \"\",\n  town_kana_raw: \"\",\n  koaza: \"\",\n  kyoto_street: \"\",\n  building: \"\",\n  floor: \"\",\n  town_partial: false,\n  town_addressed_koaza: false,\n  town_multi: false,\n  town_chome: false,\n  corporation: null,\n};\n\nconst apiBaseUrl = process.env.REACT_APP_KENALL_API_BASE_URL || 'https://api-beta.kenall.jp/v1';\n\nconst api = new KENALL(process.env.REACT_APP_KENALL_API_KEY as string, {apibase: apiBaseUrl, timeout: 10000})\n\ntype AddressSearcher = (options: AddressSearcherOptions) => Promise<Candidates>;\n\nconst searchAddresses: AddressSearcher = (() => {\n  const cache: {[k: string]: Candidates;} = {};\n  const generateKeyFromOptions = (options: AddressSearcherOptions): string => (\n    `${options.query}:${options.limit}` \n  );\n  return async (options: AddressSearcherOptions) => {\n    const k = generateKeyFromOptions(options);\n    let candidates: Candidates | undefined = cache[k];\n    if (candidates === undefined) {\n      candidates = await api.searchAddresses(options);\n      cache[k] = candidates;\n    }\n    return candidates;\n  };\n})();\n\nconst Autocomplete: React.FunctionComponent = () => {\n  const [address, setAddress] = React.useState<string>('');\n  const [candidates, setCandidates] = React.useState<Candidates | Error | undefined>(undefined);\n\n  const onCandidatesRequested = async ({ value: address }: { value: string }) => {\n    setAddress(address);\n    if (!address) {\n      setCandidates(undefined);\n      return;\n    }\n    try {\n      const result = await searchAddresses({\n        query: address,\n        limit: 20,\n      });\n      setCandidates(result);\n    } catch (e) {\n      setCandidates(e);\n    }\n  };\n\n  const onCandidatesClearRequested = () => {\n    setCandidates(undefined);\n  };\n\n  const onCandidateSelected: OnSuggestionSelected<Address> = (e, { suggestion, suggestionValue, suggestionIndex, sectionIndex, method }) => {\n    setAddress(suggestionValue);\n  };\n\n  const renderCandidate = (candidate: Address) => (\n    <>\n      <span className=\"text-base font-mono w-24 flex-shrink-0\">〒{candidate.postal_code.substring(0,3)}-{candidate.postal_code.substring(3)}</span>\n      <span className=\"text-sm ml-2\">{candidate.prefecture}{candidate.city}{candidate.town} {candidate.kyoto_street}{candidate.koaza}{candidate?.corporation?.block_lot}{candidate.building}{candidate.floor}</span>\n    </>\n  );\n\n  const renderCandidatesContainer: RenderSuggestionsContainer = ({ containerProps, children }) => {\n    const { ref, className, ...restOfContainerProps } = containerProps;\n    return (\n      <div {...restOfContainerProps} className={`${className} divide-y divide-gray-200 divide-solid`}>\n        {candidates !== undefined && (\n          candidates instanceof Error ? (\n            <div ref={ref}>\n              <ul className=\"react-autosuggest__suggestions-list\">\n                <li className=\"react-autosuggest__suggestion\">\n                  <span className=\"text-base text-red-300 mr-2\">取得時にエラーが発生しました</span>\n                  <span className=\"text-sm text-red-200\">{candidates.message}</span>\n                </li>\n              </ul>\n            </div>\n          ) : (\n            <>\n              <div className=\"overflow-y-scroll max-h-48\" ref={ref}>{children}</div>\n              <div className=\"text-sm text-gray-400 py-1 px-4 flex flex-row justify-end\">\n                <div>{String(candidates.count)}件</div>\n              </div>\n            </>\n          )\n        )}\n      </div>\n    );\n  };\n\n  return (\n    <section className=\"flex flex-col\">\n      <style jsx global>{`\n.react-autosuggest__container {\n  @apply relative;\n}\n\n.react-autosuggest__input {\n  @apply text-lg p-2 m-0 w-full rounded-md border border-gray-200;\n}\n\n.react-autosuggest__input--focused {\n  @apply focus:outline-none;\n}\n\n.react-autosuggest__input--open {\n}\n\n.react-autosuggest__suggestions-container {\n  @apply absolute z-10 hidden rounded-md border border-gray-200;\n}\n\n.react-autosuggest__suggestions-container--open {\n  @apply block;\n}\n\n.react-autosuggest__suggestions-list {\n  @apply m-0 p-0;\n}\n\n.react-autosuggest__suggestion {\n  @apply cursor-pointer py-2 px-4 flex flex-row flex-nowrap items-baseline;\n}\n\n.react-autosuggest__suggestion--highlighted {\n  @apply bg-blue-100;\n}\n\n.container {\n  @apply flex;\n}\n      \n      `}</style>\n      <header className=\"flex-1 align-center\">\n        <h1 className=\"mb-5 text-3xl font-bold text-gray-500\">Autocomplete</h1>\n      </header>\n      <main className=\"flex-1\">\n        <div>\n          <div className=\"mb-2\">\n            <label>住所を入力</label>\n            <p>\n              例: <span className=\"bg-gray-200 p-1 mr-1\">愛知県</span> <span className=\"bg-gray-200 p-1 mr-1\">横浜市 港北区</span>\n            </p>\n          </div>\n          <div className=\"text-lg w-full md:w-9/12\">\n            <Autosuggest\n              suggestions={candidates !== undefined && !(candidates instanceof Error) ? candidates.data : [SENTINEL]}\n              onSuggestionsFetchRequested={onCandidatesRequested}\n              onSuggestionsClearRequested={onCandidatesClearRequested}\n              onSuggestionSelected={onCandidateSelected}\n              getSuggestionValue={(candidate) => `${candidate.prefecture}${candidate.city}${candidate.town} ${candidate.kyoto_street || ''}${candidate.koaza || ''}${candidate?.corporation?.block_lot || ''}${candidate.building || ''}${candidate.floor || ''}`}\n              renderSuggestion={renderCandidate}\n              renderSuggestionsContainer={renderCandidatesContainer}\n              inputProps={{\n                placeholder: '住所を入力',\n                value: address,\n                onChange: (e) => {\n                  const value = (e.currentTarget as HTMLInputElement).value;\n                  if (typeof value === 'string') {\n                    setAddress((e.currentTarget as HTMLInputElement).value);\n                  }\n                },\n              }}\n            />\n          </div>\n        </div>\n      </main>\n    </section>\n  );\n};\n\nexport default Autocomplete;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KENALL = void 0;\nvar v1_1 = require(\"./v1\");\nObject.defineProperty(exports, \"KENALL\", { enumerable: true, get: function () { return v1_1.KENALL; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KENALL = void 0;\nvar core_1 = require(\"./core\");\nObject.defineProperty(exports, \"KENALL\", { enumerable: true, get: function () { return core_1.KENALLV1; } });\n//# sourceMappingURL=index.js.map","\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.KENALLV1 = void 0;\n/*#if _BUNDLE\nimport 'core-js/features/string/ends-with'; // for SuperStruct on IE11!\nimport 'core-js/features/string/includes'; // for SuperStruct on IE11!\nimport 'core-js/features/set'; // for SuperStruct on IE11!\n//#endif */\nvar axios_1 = __importDefault(require(\"axios\"));\nvar superstruct = require(\"superstruct\");\nvar superstruct_1 = require(\"superstruct\");\nvar DEFAULT_APIBASE_V1 = 'https://api.kenall.jp/v1';\nvar KENALLV1 = /** @class */ (function () {\n    function KENALLV1(apikey, config) {\n        if (config === void 0) { config = {}; }\n        this.apikey = apikey;\n        this.apibase = config.apibase || DEFAULT_APIBASE_V1;\n        this.timeout = config.timeout || 1000;\n        this.axios = axios_1.default.create({\n            baseURL: this.apibase,\n            timeout: this.timeout,\n            headers: { Authorization: \"Token \" + this.apikey },\n        });\n    }\n    KENALLV1.prototype.request = function (endpoint, params) {\n        if (params === void 0) { params = {}; }\n        return __awaiter(this, void 0, void 0, function () {\n            var r;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.axios.get(endpoint, { params: params })];\n                    case 1:\n                        r = _a.sent();\n                        return [2 /*return*/, r.data];\n                }\n            });\n        });\n    };\n    KENALLV1.prototype.getAddress = function (postal_code, version) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, e_1;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        _a = validate_AddressResolverResponse;\n                        return [4 /*yield*/, this.request(\"/postalcode/\" + postal_code, version != undefined ? { version: version } : {})];\n                    case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];\n                    case 2:\n                        e_1 = _b.sent();\n                        if (e_1 instanceof superstruct_1.StructError) {\n                            throw new Error(\"invalid response payload: \" + e_1.path + \" must be \" + e_1.type);\n                        }\n                        else {\n                            throw e_1;\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    KENALLV1.prototype.getCities = function (prefecture_code, version) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, e_2;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _b.trys.push([0, 2, , 3]);\n                        _a = validate_CityResolverResponse;\n                        return [4 /*yield*/, this.request(\"/cities/\" + prefecture_code, version != undefined ? { version: version } : {})];\n                    case 1: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];\n                    case 2:\n                        e_2 = _b.sent();\n                        if (e_2 instanceof superstruct_1.StructError) {\n                            throw new Error(\"invalid response payload: \" + e_2.path + \" must be \" + e_2.type);\n                        }\n                        else {\n                            throw e_2;\n                        }\n                        return [3 /*break*/, 3];\n                    case 3: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    KENALLV1.prototype.searchAddresses = function (options) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, _a, e_3;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        params = {};\n                        if (options.query !== undefined) {\n                            params['q'] = options.query;\n                        }\n                        if (options.offset !== undefined) {\n                            params['offset'] = String(options.offset | 0);\n                        }\n                        if (options.limit !== undefined) {\n                            params['limit'] = String(options.limit | 0);\n                        }\n                        ;\n                        if (options.version !== undefined) {\n                            params['version'] = options.version;\n                        }\n                        ;\n                        _b.label = 1;\n                    case 1:\n                        _b.trys.push([1, 3, , 4]);\n                        _a = validate_AddressSearcherResponse;\n                        return [4 /*yield*/, this.request('/postalcode/', params)];\n                    case 2: return [2 /*return*/, _a.apply(void 0, [_b.sent()])];\n                    case 3:\n                        e_3 = _b.sent();\n                        if (e_3 instanceof superstruct_1.StructError) {\n                            throw new Error(\"invalid response payload: \" + e_3.path + \" must be \" + e_3.type);\n                        }\n                        else {\n                            throw e_3;\n                        }\n                        return [3 /*break*/, 4];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return KENALLV1;\n}());\nexports.KENALLV1 = KENALLV1;\nfunction validate_AddressResolverResponse(jsonObj) {\n    var validator = superstruct.struct({\n        version: \"string\",\n        data: superstruct.struct.array([{\n                jisx0402: \"string\",\n                old_code: \"string\",\n                postal_code: \"string\",\n                prefecture: \"string\",\n                prefecture_kana: \"string\",\n                city: \"string\",\n                city_kana: \"string\",\n                town: \"string\",\n                town_kana: \"string\",\n                town_raw: \"string\",\n                town_kana_raw: \"string\",\n                koaza: \"string\",\n                kyoto_street: \"string\",\n                building: \"string\",\n                floor: \"string\",\n                town_partial: \"boolean\",\n                town_addressed_koaza: \"boolean\",\n                town_multi: \"boolean\",\n                town_chome: \"boolean\",\n                corporation: superstruct.struct.union([\"null\", {\n                        name: \"string\",\n                        name_kana: \"string\",\n                        block_lot: \"string\",\n                        post_office: \"string\",\n                        code_type: \"number\"\n                    }])\n            }])\n    });\n    return validator(jsonObj);\n}\nfunction validate_CityResolverResponse(jsonObj) {\n    var validator = superstruct.struct({\n        version: \"string\",\n        data: superstruct.struct.array([{\n                jisx0402: \"string\",\n                prefecture_code: \"string\",\n                prefecture: \"string\",\n                prefecture_kana: \"string\",\n                city_code: \"string\",\n                city: \"string\",\n                city_kana: \"string\"\n            }])\n    });\n    return validator(jsonObj);\n}\nfunction validate_AddressSearcherResponse(jsonObj) {\n    var validator = superstruct.struct({\n        query: \"string\",\n        count: \"number\",\n        offset: \"number\",\n        limit: \"number\",\n        facets: superstruct.struct.union([\"null\", superstruct.struct.array([superstruct.struct.tuple([\"string\", \"number\"])])]),\n        version: \"string\",\n        data: superstruct.struct.array([{\n                jisx0402: \"string\",\n                old_code: \"string\",\n                postal_code: \"string\",\n                prefecture: \"string\",\n                prefecture_kana: \"string\",\n                city: \"string\",\n                city_kana: \"string\",\n                town: \"string\",\n                town_kana: \"string\",\n                town_raw: \"string\",\n                town_kana_raw: \"string\",\n                koaza: \"string\",\n                kyoto_street: \"string\",\n                building: \"string\",\n                floor: \"string\",\n                town_partial: \"boolean\",\n                town_addressed_koaza: \"boolean\",\n                town_multi: \"boolean\",\n                town_chome: \"boolean\",\n                corporation: superstruct.struct.union([\"null\", {\n                        name: \"string\",\n                        name_kana: \"string\",\n                        block_lot: \"string\",\n                        post_office: \"string\",\n                        code_type: \"number\"\n                    }])\n            }])\n    });\n    return validator(jsonObj);\n}\n//# sourceMappingURL=core.js.map","import React from 'react';\n\nconst Index: React.FunctionComponent = () => {\n  return <section className=\"flex flex-col\">\n    <header>\n      <h1 className=\"mb-5 text-3xl font-bold text-gray-500\">ケンオール デモページ</h1>\n    </header>\n    <main>\n      <p className=\"mb-2\">サイドバーからデモを選択してください。</p>\n    </main>\n  </section>\n};\n\nexport default Index;\n","import React from 'react';\nimport { Link, Switch, Route } from 'react-router-dom';\nimport Index from './pages/index';\nimport Autocomplete from './pages/autocomplete';\n\nfunction App() {\n  const [menuShown, setMenuShown] = React.useState<boolean>(false);\n\n  return (\n    <div className=\"flex flex-col md:flex-row\" onClick={(e) => {e.stopPropagation(); setMenuShown(false);}}>\n      <aside className=\"relative z-10\">\n        <header className=\"bg-gray-200 md:bg-transparent h-15 md:h-none flex items-center\">\n          <h1 className=\"py-3 px-5 md:pt-5 text-lg flex-grow\"><Link to=\"/\">ケンオール</Link></h1>\n          <button className=\"block md:hidden px-2 py-1 m-2\" onClick={(e) => { e.stopPropagation(); setMenuShown(!menuShown) }}>\n            <svg className=\"w-6 h-6\" fill=\"currentColor\" viewBox=\"0 0 20 20\" xmlns=\"http://www.w3.org/2000/svg\"><path fill-rule=\"evenodd\" d=\"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z\" clip-rule=\"evenodd\"></path></svg>\n          </button>\n        </header>\n        <ul className={'duration-500 transion-right md:transition-none bg-white md:bg-transparent md:block p-5 md:p-0 md:mx-5 md:my-0 absolute top-10 w-1/2 h-screen md:w-auto md:static md:right-auto ' + (menuShown ? 'right-0' : '-right-full')}>\n          <li><Link to=\"/autocomplete\" className=\"text-gray-500 block\">Autocomplete</Link></li>\n        </ul>\n      </aside>\n      <main className=\"flex-1 m-5\">\n        <Switch>\n          <Route path=\"/autocomplete\">\n            <Autocomplete />\n          </Route>\n          <Route path=\"/\">\n            <Index />\n          </Route>\n        </Switch> \n      </main>\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport './index.css';\n\nconst baseUrl = process.env.REACT_APP_BASE_URL || '/';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Router basename={baseUrl}>\n      <App />\n    </Router>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}